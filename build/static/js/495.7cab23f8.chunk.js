"use strict";(self.webpackChunksafeline_IOT=self.webpackChunksafeline_IOT||[]).push([[495],{1495:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(72791),s=n(78983),i=(n(24846),n(93001),n(52036),n(18043)),l=n(91933),c=n(99579),o=n(93433),r=n(29439),d=n(68861),h=n(80184),u=function(){(0,i.U)().dispatch;var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),n=t[0],u=t[1],f=(0,a.useState)(!1),x=(0,r.Z)(f,2),j=x[0],p=x[1],m=(0,c.X)().setShowToast,y=(0,l.useMutation)(d.ZK).mutate,b=(0,l.useMutation)(d.Qk).mutate;function g(e){y(e,{onSuccess:function(e){w(e.data)},onError:function(e){}})}var v=(0,a.useState)([]),k=(0,r.Z)(v,2),N=k[0],w=k[1],O={"background-color":"white",color:"black"},C=function(e,t,n){var a=(0,o.Z)(N);a[e][t]=n.target.value,w(a)},S=function(e,t,n){var a=(0,o.Z)(N);a[e][t]=n.target.checked,w(a)},F=function(e,t){var n=(0,o.Z)(N);"is_enabled"===t?u(e.target.checked):p(e.target.checked),n.map((function(n){n[t]=e.target.checked})),w(n)},I=function(e){console.log(N),function(e){b(e,{onSuccess:function(e){m((function(){return{show:!0,title:"Success",content:"Threshold Updated Successfully"}})),g(localStorage.getItem("OrganizationId"))},onError:function(e){m((function(){return{show:!0,title:"Error",content:"Error In Updating Threshold",color:"#FF0000"}})),g(localStorage.getItem("OrganizationId"))}})}(N)},E=(0,c.X)(),_=E.darkMode;E.setDarkMode;return(0,a.useEffect)((function(){g(localStorage.getItem("OrganizationId"))}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap"},children:(0,h.jsxs)(s.Z0,{role:"group","aria-label":"Default button group",children:[(0,h.jsx)(s.u5,{id:"".concat(_?"button-dark":""),onClick:function(){var e="data:text/csv;charset=utf-8,"+N.map((function(e){return Object.values(e).join(",")})).join("\n"),t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","thresholds.csv"),document.body.appendChild(n),n.click()},color:"primary",variant:"outline",children:"Excel"}),(0,h.jsx)(s.u5,{id:"".concat(_?"button-dark":""),color:"primary",variant:"outline",children:"Pdf"}),(0,h.jsx)(s.u5,{id:"".concat(_?"button-dark":""),onClick:function(){window.print()},color:"primary",variant:"outline",children:"Print"})]})}),(0,h.jsxs)("div",{style:{padding:"15px"},children:[(0,h.jsxs)(s.Sx,{bordered:!0,responsive:!0,style:{marginTop:"10px",width:"100%"},children:[(0,h.jsx)(s.V,{children:(0,h.jsxs)(s.T6,{children:[(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",colSpan:3,style:{fontFamily:"sans-serif",width:"20%"},children:"Sensor"}),(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"120px"},children:"Unit"}),(0,h.jsxs)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"10%"},children:["Enable",(0,h.jsx)(s.EC,{checked:n,onChange:function(e){F(e,"is_enabled")}})]}),(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"10%"},children:"Delay (Mins)"}),(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"10%"},children:"Max"}),(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"10%"},children:"Min"}),(0,h.jsxs)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif",width:"10%"},children:["Healthy State",(0,h.jsx)(s.EC,{checked:j,onChange:function(e){F(e,"healthy_state")}})]}),(0,h.jsx)(s.is,{className:"table-data-light ".concat(_?"table-data-dark":""),scope:"col",style:{fontFamily:"sans-serif"},children:"Offline Alert"})]})}),(0,h.jsx)(s.NR,{children:N.map((function(e,t){var n,a;return(0,h.jsxs)(s.T6,{children:[(0,h.jsx)(s.NN,{colSpan:3,children:e.name}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.jO,{className:"input-light pt-0 ".concat(_?"input-dark":""),type:"text",name:"unit",value:e.unit,onChange:function(e){return C(t,"unit",e)}})}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.EC,{type:"checkbox",name:"is_enabled",checked:e.is_enabled,onChange:function(e){S(t,"is_enabled",e)}})}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.jO,{className:"input-light pt-0 ".concat(_?"input-dark":""),type:"number",name:"delay",value:null===(n=e.sensors)||void 0===n||null===(a=n.devices)||void 0===a?void 0:a.delaytime,onChange:function(e){return C(t,"delay",e)},disabled:!0})}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.jO,{className:"input-light pt-0 ".concat(_?"input-dark":""),type:"number",name:"max",value:e.maxvalue,onChange:function(e){return C(t,"maxvalue",e)}})}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.jO,{className:"input-light pt-0 ".concat(_?"input-dark":""),type:"number",name:"min",value:e.minvalue,onChange:function(e){return C(t,"minvalue",e)}})}),(0,h.jsx)(s.NN,{children:(0,h.jsx)(s.EC,{type:"checkbox",name:"healthy_state",checked:e.healthy_state,onChange:function(e){S(t,"healthy_state",e)}})}),(0,h.jsx)(s.NN,{children:(0,h.jsxs)(s.LX,{className:" form-select ".concat(_?"select-dark":""),name:"offlineAlert",value:e.offline_alert,onChange:function(e){return C(t,"offline_alert",e)},style:O,children:[(0,h.jsx)("option",{value:"Off",children:"Off"}),(0,h.jsx)("option",{value:"On",children:"1 hour"}),(0,h.jsx)("option",{value:"On",children:"2 hour"}),(0,h.jsx)("option",{value:"On",children:"3 hour"}),(0,h.jsx)("option",{value:"On",children:"4 hour"}),(0,h.jsx)("option",{value:"On",children:"24 hour"})]})})]},t)}))}),(0,h.jsx)(s.rb,{})]}),(0,h.jsx)("br",{}),(0,h.jsx)(s.b7,{xs:"auto",children:(0,h.jsx)(s.u5,{id:"".concat(_?"button-dark":""),onClick:function(e){I()},children:"Save"})})]})]})},f=function(){(0,i.U)().dispatch;var e=(0,c.X)(),t=(e.darkMode,e.setDarkMode,{"--cui-accordion-active-color":"#ffffff","--cui-accordion-active-bg":"#0F172A"}),n={"background-color":"white",color:"black"};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{children:"Alarm Threshold"}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,h.jsx)(s.uz,{class:"accordion",style:{width:"45%"},children:(0,h.jsxs)(s.Ob,{itemKey:1,children:[(0,h.jsx)(s.Lv,{style:t,children:(0,h.jsx)("h5",{style:{fontFamily:"sans-serif",fontSize:"20px"},children:"Alarm Period"})}),(0,h.jsx)(s.qI,{})]})}),(0,h.jsx)(s.uz,{class:"accordion",style:{width:"45%"},children:(0,h.jsxs)(s.Ob,{itemKey:2,children:[(0,h.jsx)(s.Lv,{style:t,children:(0,h.jsx)("h5",{style:{fontFamily:"sans-serif",fontSize:"20px"},children:"System Office Delay"})}),(0,h.jsxs)(s.qI,{style:{fontFamily:"sans-serif"},children:["The default office delay value, which can be inherited by the sensor on this system",(0,h.jsxs)(s.LX,{style:{"background-color":"#4F46E5",color:"#ffffff","border-radius":"4px",padding:"5px",width:"120px"},children:[(0,h.jsx)("option",{children:"2:00 hour"}),(0,h.jsx)("option",{value:"1",style:n,children:"5:00 hour"}),(0,h.jsx)("option",{value:"2",style:n,children:"6:00 hour"}),(0,h.jsx)("option",{value:"3",style:n,children:"7:00 hour"})]})]})]})})]}),(0,h.jsx)(s.uz,{alwaysOpen:!0,activeItemKey:2,style:{marginTop:"10px"},children:(0,h.jsxs)(s.Ob,{itemKey:1,children:[(0,h.jsx)(s.Lv,{style:t,children:(0,h.jsx)("h5",{style:{fontFamily:"sans-serif"},children:"Condition based Alram"})}),(0,h.jsx)(s.qI,{children:(0,h.jsx)(u,{})})]})})]})}}}]);
//# sourceMappingURL=495.7cab23f8.chunk.js.map