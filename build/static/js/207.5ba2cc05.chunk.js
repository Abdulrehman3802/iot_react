"use strict";(self.webpackChunksafeline_IOT=self.webpackChunksafeline_IOT||[]).push([[207],{52178:function(t,e,r){r.d(e,{A:function(){return a}});var n=r(73106),a=function(t){(0,n.u)(t)}},73106:function(t,e,r){r.d(e,{b:function(){return n},u:function(){return a}});var n=r(31243).Z.create({baseURL:"http://ec2-13-233-60-110.ap-south-1.compute.amazonaws.com:8080/",timeout:5e4,headers:{"Content-Type":"application/json"}}),a=function(t){t?n.defaults.headers.common.Authorization="Bearer ".concat(t):delete n.defaults.headers.common.Authorization}},17834:function(t,e,r){r.d(e,{BF:function(){return g},D2:function(){return p},F4:function(){return x},Fi:function(){return i},HH:function(){return h},I8:function(){return d},LE:function(){return u},Mz:function(){return m},XH:function(){return f},bU:function(){return s},iU:function(){return l},oL:function(){return w},uj:function(){return v}});var n=r(74165),a=r(15861),o=r(52178),c=r(73106),s=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("auth/login",{email:e.email,password:e.password});case 2:return r=t.sent,a=r.data,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("general");case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.post("organization",e);case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("organization");case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("facility/by-orgId/".concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.patch("organization/".concat(e.editData.customerid),e.handler);case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("department/by-facId/".concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("department/by-orgId/".concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.delete("organization/".concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("auth/get-reset-token",e);case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("/auth/reset-password",e);case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e.file),r.append("organizationName",e.organizationName),(0,o.A)(localStorage.getItem("token")),t.prev=4,t.next=7,c.b.post("organization/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 7:return a=t.sent,s=a.data,t.abrupt("return",s);case 12:throw t.prev=12,t.t0=t.catch(4),console.error("Error uploading file:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=4,c.b.patch("organization/".concat(localStorage.getItem("organizationid")),{logo:e});case 4:return r=t.sent,a=r.data,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},93207:function(t,e,r){r.r(e);var n=r(1413),a=r(29439),o=r(72791),c=r(78983),s=r(24846),u=r(91933),i=r(93647),p=r(17834),l=r(18043),d=r(57689),f=r(80184);e.default=function(){var t=(0,d.UO)().userId,e=(0,l.U)(),r=(e.isLoading,e.dispatch),h=(0,o.useState)(0),m=(0,a.Z)(h,2),x=m[0],g=m[1],w=(0,o.useRef)(),v=(0,u.useMutation)(p.BF).mutate,Z=function(){return r({type:"HIDE_LOADER"})},b=(0,o.useState)({password:"",token:t}),j=(0,a.Z)(b,2),y=j[0],k=j[1],I=(0,f.jsxs)(c.oo,{children:[(0,f.jsx)(c.xZ,{closeButton:!0,children:(0,f.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,f.jsx)("rect",{width:"100%",height:"100%",fill:"#2ECC71"})})}),(0,f.jsx)(c.S3,{children:"Your New Password is Set , Now you can login with your New Password"})]}),A=(0,f.jsxs)(c.oo,{children:[(0,f.jsx)(c.xZ,{closeButton:!0,children:(0,f.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,f.jsx)("rect",{width:"100%",height:"100%",fill:"#FF0000"})})}),(0,f.jsx)(c.S3,{children:"Try Again "})]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.KF,{ref:w,push:x,placement:"top-end"}),(0,f.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,f.jsx)(c.KB,{children:(0,f.jsx)(c.rb,{className:"justify-content-center ",children:(0,f.jsx)(c.b7,{md:8,children:(0,f.jsx)(c.dL,{style:{padding:"80px"},children:(0,f.jsx)(c.xH,{className:"p-4",children:(0,f.jsx)(c.sl,{children:(0,f.jsxs)(c.lx,{children:[(0,f.jsx)("h1",{children:"New Password"}),(0,f.jsx)("p",{className:"text-medium-emphasis",children:"Change your account password"}),(0,f.jsxs)(c.YR,{className:"mb-4",children:[(0,f.jsx)(c.wV,{children:(0,f.jsx)(s.Z,{icon:i.U})}),(0,f.jsx)(c.jO,{type:"password",placeholder:"Password",autoComplete:"current-password"})]}),(0,f.jsxs)(c.YR,{className:"mb-4",children:[(0,f.jsx)(c.wV,{children:(0,f.jsx)(s.Z,{icon:i.U})}),(0,f.jsx)(c.jO,{type:"password",placeholder:" Confirm Password",autoComplete:"new-password",onChange:function(t){k((0,n.Z)((0,n.Z)({},y),{},{password:t.target.value}))}})]}),(0,f.jsx)(c.rb,{children:(0,f.jsx)(c.b7,{xs:6,children:(0,f.jsx)(c.u5,{onClick:function(){console.log(y),r({type:"SHOW_LOADER"}),v(y,{onSuccess:function(t){Z(),g(I)},onError:function(t){Z(),g(A)}})},color:"primary",className:"px-4 text-align-center",children:"Confirm Password"})})})]})})})})})})})})]})}},93647:function(t,e,r){r.d(e,{U:function(){return n}});var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=207.5ba2cc05.chunk.js.map