"use strict";(self.webpackChunksafeline_IOT=self.webpackChunksafeline_IOT||[]).push([[207],{13524:function(t,r,e){e.d(r,{_:function(){return n}});var n="http://ec2-13-233-60-110.ap-south-1.compute.amazonaws.com:8000/"},52178:function(t,r,e){e.d(r,{A:function(){return a}});var n=e(80491),a=function(t){(0,n.u)(t)}},80491:function(t,r,e){e.d(r,{b:function(){return o},u:function(){return c}});var n=e(31243),a=e(13524),o=n.Z.create({baseURL:a._,timeout:5e4,headers:{"Content-Type":"application/json"}}),c=function(t){t?o.defaults.headers.common.Authorization="Bearer ".concat(t):delete o.defaults.headers.common.Authorization}},17834:function(t,r,e){e.d(r,{BF:function(){return w},D2:function(){return p},F4:function(){return x},Fi:function(){return i},HH:function(){return h},I8:function(){return f},LE:function(){return s},Mz:function(){return m},NA:function(){return Z},XH:function(){return d},bU:function(){return u},iU:function(){return l},oL:function(){return g},uj:function(){return v}});var n=e(74165),a=e(15861),o=e(52178),c=e(80491),u=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("auth/login",{email:r.email,password:r.password});case 2:return e=t.sent,a=e.data,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r,e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("general");case 3:return r=t.sent,e=r.data,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.post("organization",r);case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r,e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("organization");case 3:return r=t.sent,e=r.data,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("facility/by-orgId/".concat(r));case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.patch("organization/".concat(r.editData.customerid),r.handler);case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("department/by-facId/".concat(r));case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.get("department/by-orgId/".concat(r));case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=3,c.b.delete("organization/".concat(r));case 3:return e=t.sent,a=e.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("auth/get-reset-token",r);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),w=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("/auth/reset-password",r);case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new FormData).append("file",r.file),e.append("organizationName",r.organizationName),(0,o.A)(localStorage.getItem("token")),t.prev=4,t.next=7,c.b.post("organization/upload",e,{headers:{"Content-Type":"multipart/form-data"}});case 7:return a=t.sent,u=a.data,t.abrupt("return",u);case 12:throw t.prev=12,t.t0=t.catch(4),console.error("Error uploading file:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(r){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(localStorage.getItem("token")),t.next=4,c.b.patch("organization/".concat(localStorage.getItem("organizationid")),{logo:r});case 4:return e=t.sent,a=e.data,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var e,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.A)(r.token),t.next=4,c.b.patch("alert/update-alert/".concat(r.id),{status:r.status});case 4:return e=t.sent,a=e.data,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()},93207:function(t,r,e){e.r(r);var n=e(1413),a=e(29439),o=e(72791),c=e(78983),u=e(24846),s=e(91933),i=e(93647),p=e(17834),l=e(18043),f=e(57689),d=e(80184);r.default=function(){var t=(0,f.UO)().userId,r=(0,l.U)(),e=(r.isLoading,r.dispatch),h=(0,o.useState)(0),m=(0,a.Z)(h,2),x=m[0],w=m[1],g=(0,o.useRef)(),v=(0,s.useMutation)(p.BF).mutate,Z=function(){return e({type:"HIDE_LOADER"})},b=(0,o.useState)({password:"",token:t}),j=(0,a.Z)(b,2),y=j[0],k=j[1],A=(0,d.jsxs)(c.oo,{children:[(0,d.jsx)(c.xZ,{closeButton:!0,children:(0,d.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,d.jsx)("rect",{width:"100%",height:"100%",fill:"#2ECC71"})})}),(0,d.jsx)(c.S3,{children:"Your New Password is Set , Now you can login with your New Password"})]}),I=(0,d.jsxs)(c.oo,{children:[(0,d.jsx)(c.xZ,{closeButton:!0,children:(0,d.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,d.jsx)("rect",{width:"100%",height:"100%",fill:"#FF0000"})})}),(0,d.jsx)(c.S3,{children:"Try Again "})]});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.KF,{ref:g,push:x,placement:"top-end"}),(0,d.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,d.jsx)(c.KB,{children:(0,d.jsx)(c.rb,{className:"justify-content-center ",children:(0,d.jsx)(c.b7,{md:8,children:(0,d.jsx)(c.dL,{style:{padding:"80px"},children:(0,d.jsx)(c.xH,{className:"p-4",children:(0,d.jsx)(c.sl,{children:(0,d.jsxs)(c.lx,{children:[(0,d.jsx)("h1",{children:"New Password"}),(0,d.jsx)("p",{className:"text-medium-emphasis",children:"Change your account password"}),(0,d.jsxs)(c.YR,{className:"mb-4",children:[(0,d.jsx)(c.wV,{children:(0,d.jsx)(u.Z,{icon:i.U})}),(0,d.jsx)(c.jO,{type:"password",placeholder:"Password",autoComplete:"current-password"})]}),(0,d.jsxs)(c.YR,{className:"mb-4",children:[(0,d.jsx)(c.wV,{children:(0,d.jsx)(u.Z,{icon:i.U})}),(0,d.jsx)(c.jO,{type:"password",placeholder:" Confirm Password",autoComplete:"new-password",onChange:function(t){k((0,n.Z)((0,n.Z)({},y),{},{password:t.target.value}))}})]}),(0,d.jsx)(c.rb,{children:(0,d.jsx)(c.b7,{xs:6,children:(0,d.jsx)(c.u5,{onClick:function(){console.log(y),e({type:"SHOW_LOADER"}),v(y,{onSuccess:function(t){Z(),w(A)},onError:function(t){Z(),w(I)}})},color:"primary",className:"px-4 text-align-center",children:"Confirm Password"})})})]})})})})})})})})]})}},93647:function(t,r,e){e.d(r,{U:function(){return n}});var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=207.735e8396.chunk.js.map